(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(t,a,e){"use strict";e.r(a);var s=e(1),n=e.n(s),i=e(6),o=e.n(i),r=(e(81),e(30)),c=e(37),l=e(38),u=e(40),h=e(39),p=e(41),d=e(58),m={minValues:{samples:1,pointsXlap:.01,containerRadius:10,discRadius:1},maxValues:{samples:10,pointsXlap:45,containerRadius:500},parametrizationMarks:{1:"linear",2:"quadratic"},samplesMarks:{1:3,2:10,3:20,4:50,5:100,6:200,7:500,8:1e3,9:2e3,10:5e3}},g=(e(82),1e3),f=1,v=2*Math.PI,k=function(t,a,e){return t*((s=a)/function t(a,e){return e?t(e,a%e):a}(e,s));var s},R=function(t,a,e){for(var s=[],n=1;n<=e;n++){var i=k(a,n,e);i<=t[1]&&i>=t[0]&&s.push(n)}return s},y=function(t){function a(t){var e;Object(c.a)(this,a),e=Object(u.a)(this,Object(h.a)(a).call(this,t));var s=360/t.pointsXlap*(Math.PI/180);return e.state={points:[],oldPaths:[],actualPath:{d:[],id:1,color:"hsl(".concat(t.hue,", 100%, ").concat(t.luminosity,"%)")},angleSpirograph:0,angleDisc:0,containerCenter:.5*g,anglexStep:s,discCenter:t.containerRadius-e.props.discRadius,angleDiscXstep:s*t.containerRadius/e.props.discRadius,samples:k(t.pointsXlap,t.discRadius,t.containerRadius),stop:!1},e}return Object(p.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.frame()}},{key:"componentDidUpdate",value:function(t){var a=this,e={};if(t.cleanInterruptor!==this.props.cleanInterruptor&&(this.setState({oldPaths:[]}),this.state.stop&&this.setState({actualPath:{d:[],id:++f,color:"hsl(".concat(this.props.hue,", 100%, ").concat(this.props.luminosity,"%)")},points:[]})),t.discRadius!==this.props.discRadius||this.props.containerRadius!==t.containerRadius){var s=this.props,n=s.discRadius,i=s.containerRadius;e.discCenter=i-n,e.angleDiscXstep=this.state.anglexStep*i/n}if(this.props.pointsXlap!==t.pointsXlap){var o=360/this.props.pointsXlap*(Math.PI/180);e.anglexStep=o,e.angleDiscXstep=o*this.props.containerRadius/this.props.discRadius}if(this.props.holeDistance===t.holeDistance&&this.props.parametrization===t.parametrization&&this.props.hue===t.hue&&this.props.luminosity===t.luminosity||(e.stop=!1),Object.keys(e).length>0){var c=0===this.state.oldPaths.length,l=this.state.stop;e.samples=k(this.props.pointsXlap,this.props.discRadius,this.props.containerRadius),e.stop=!1,e.oldPaths=this.state.oldPaths,e.oldPaths.push(Object.assign({},this.state.actualPath)),e.actualPath={id:++f,color:"hsl(".concat(this.props.hue,", 100%, ").concat(this.props.luminosity,"%)"),d:[]},e.points=[],this.setState(Object(r.a)({},e),function(){l&&a.frame(),c&&a.deleteFrame()})}}},{key:"addPoint",value:function(t){var a=this.state.points.slice();a.push(t);var e=this.state.actualPath;switch(this.props.parametrization){case 1:a.length<2?e.d.push("M ".concat(t.x,",").concat(t.y," ")):e.d.push("L ".concat(t.x,",").concat(t.y," "));break;case 2:if(a.length>2){var s=a[a.length-3],n=a[a.length-2],i=.25*s.x+n.x-.25*t.x,o=.25*s.y+n.y-.25*t.y;e.d.push("Q ".concat(i,",").concat(o," ").concat(n.x,",").concat(n.y," "))}else 1===a.length&&e.d.push("M ".concat(t.x,",").concat(t.y," "))}this.setState({points:a,actualPath:e})}},{key:"deleteFrame",value:function(){for(var t=this,a=this.state.oldPaths.slice(),e=a.length-1;e>=0;e--)if(a[e].d.shift(),a[e].d.length>1){var s=a[e].d[0].split(" ");a[e].d[0]="M "+s[s.length-2]}else a.splice(e,1);this.setState({oldPaths:a},function(){t.state.oldPaths.length>0&&setTimeout(function(){t.deleteFrame()},1e3/t.props.fps)})}},{key:"frame",value:function(){var t=this,a=this.state,e=a.angleSpirograph,s=a.containerCenter,n=a.discCenter,i=a.angleDisc,o=a.angleDiscXstep,r=a.anglexStep,c=this.props.holeDistance,l=s+Math.cos(e)*n,u=s-Math.sin(e)*n,h=l+Math.cos(-i)*c,p=u-Math.sin(-i)*c;this.addPoint({x:Math.floor(h),y:Math.floor(p)}),this.setState({angleSpirograph:(e+r)%v,angleDisc:(i+o)%v},function(){t.state.actualPath.d.length!==t.state.samples+1?setTimeout(function(){t.frame()},1e3/t.props.fps):t.setState({stop:!0})})}},{key:"render",value:function(){var t={fill:"transparent",strokeWidth:"2px",strokeLinejoin:"round",strokeLinecap:"round"};return n.a.createElement("div",{className:"spirograph"},n.a.createElement("div",{className:"points-info"},"".concat(this.state.actualPath.d.length-1," / ").concat(this.state.samples)),n.a.createElement("div",{className:"draw-container"},n.a.createElement("svg",{viewBox:"0 0 ".concat(g," ").concat(g)},this.state.oldPaths.length>0?this.state.oldPaths.map(function(a){return n.a.createElement("path",Object.assign({key:a.id,d:a.d.join(""),stroke:a.color},t))}):null,this.state.actualPath.d.length>0?n.a.createElement("path",Object.assign({key:this.state.actualPath.id,d:this.state.actualPath.d.join(""),stroke:this.state.actualPath.color},t)):null)))}}]),a}(n.a.Component),S=e(13),b=e(29),P=(e(138),S.b.Handle),x=function(t){var a=t.value,e=t.dragging,s=t.index,i=Object(d.a)(t,["value","dragging","index"]);return n.a.createElement(b.a,{prefixCls:"rc-slider-tooltip",overlay:a,visible:e,placement:"top",key:s},n.a.createElement(P,Object.assign({value:a},i)))},E=function(t){var a=t.value,e=t.dragging,s=t.index,i=Object(d.a)(t,["value","dragging","index"]);return n.a.createElement(b.a,{prefixCls:"rc-slider-tooltip",overlay:m.samplesMarks[a],visible:e,placement:"top",key:s},n.a.createElement(P,Object.assign({value:a},i)))},M={containerRadius:500,discRadius:370,holeDistance:142,samples:[1,7],pointsXlap:10,maxPointsXlap:45,fps:45,parametrization:2,hue:80,luminosity:50,discRadiusMarks:{250:250}},D=function(t){function a(t){var e;return Object(c.a)(this,a),(e=Object(u.a)(this,Object(h.a)(a).call(this,t))).state=Object(r.a)({},M,{SpriographProps:Object(r.a)({},M),cleanInterruptor:!1}),e}return Object(p.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.changeSamples(this.state.samples)}},{key:"apply",value:function(){this.setState({SpriographProps:{containerRadius:this.state.containerRadius,discRadius:this.state.discRadius,holeDistance:this.state.holeDistance,pointsXlap:this.state.pointsXlap,fps:this.state.fps,parametrization:this.state.parametrization,hue:this.state.hue,luminosity:this.state.luminosity}})}},{key:"getSamplesMark",value:function(t){return[m.samplesMarks[t[0]],m.samplesMarks[t[1]]]}},{key:"changeSamples",value:function(t){var a,e=this,s=(a=this.getSamplesMark(t)[1])>m.maxValues.pointsXlap?m.maxValues.pointsXlap:a;this.setState({samples:t,maxPointsXlap:s},function(){e.state.pointsXlap>s?e.changePointsXlap(s):e.changeDiscRadiusMarks(R(e.getSamplesMark(t),e.state.pointsXlap,e.state.containerRadius))})}},{key:"changeContainerRadius",value:function(t){this.setState({containerRadius:t},this.changeDiscRadiusMarks(R(this.getSamplesMark(this.state.samples),this.state.pointsXlap,t)))}},{key:"changePointsXlap",value:function(t){var a=this;this.setState({pointsXlap:t},function(){return a.changeDiscRadiusMarks(R(a.getSamplesMark(a.state.samples),t,a.state.containerRadius))})}},{key:"changeDiscRadiusMarks",value:function(t){var a=this,e=t.find(function(t){return t>=a.state.discRadius});e!==this.state.discRadius&&this.changeDiscRadius(e||t[t.length]);var s={};t.forEach(function(t){return s[t]=t}),this.setState({discRadiusMarks:s})}},{key:"changeDiscRadius",value:function(t){var a=500-(this.state.containerRadius-this.state.discRadius);this.state.holeDistance>a&&this.changeHoleDistance(a),this.setState({discRadius:t})}},{key:"changeHoleDistance",value:function(t){this.setState({holeDistance:t})}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"control-panel"},n.a.createElement("div",null,"Parametrization: ",m.parametrizationMarks[this.state.parametrization],n.a.createElement(S.b,{defaultValue:this.state.parametrization,min:1,max:2,marks:m.parametrizationMarks,onAfterChange:function(a){return t.setState({parametrization:a})}})),n.a.createElement("div",null,"Container Radius: ",this.state.containerRadius,n.a.createElement(S.b,{defaultValue:this.state.containerRadius,min:m.minValues.containerRadius,max:m.maxValues.containerRadius,handle:x,onAfterChange:function(a){return t.changeContainerRadius(a)}})),n.a.createElement("div",null,"Samples: ",this.getSamplesMark(this.state.samples).join(" - "),n.a.createElement(S.a,{className:"samplesSelectRange",defaultValue:this.state.samples,min:m.minValues.samples,max:m.maxValues.samples,step:null,marks:m.samplesMarks,handle:E,onAfterChange:function(a){return t.changeSamples(a)}})),n.a.createElement("div",null,"Points per lap: ",this.state.pointsXlap,n.a.createElement(S.b,{value:this.state.pointsXlap,min:1,max:this.state.maxPointsXlap,handle:x,onChange:function(a){return t.setState({pointsXlap:a})},onAfterChange:function(a){return t.changePointsXlap(a)}})),n.a.createElement("div",null,"Disc Radius: ",this.state.discRadius,n.a.createElement(S.b,{value:this.state.discRadius,min:m.minValues.discRadius,max:this.state.containerRadius-1,step:null,marks:this.state.discRadiusMarks,handle:x,onChange:function(a){return t.changeDiscRadius(a)}})),n.a.createElement("div",null,"Hole distance: ",this.state.holeDistance,n.a.createElement(S.b,{value:this.state.holeDistance,min:0,max:500-(this.state.containerRadius-this.state.discRadius),handle:x,onChange:function(a){return t.changeHoleDistance(a)}})),n.a.createElement("div",null,"Fps: ",this.state.fps,n.a.createElement(S.b,{defaultValue:this.state.fps,min:1,max:45,onAfterChange:function(a){return t.setState({fps:a})},handle:x})),n.a.createElement("div",null,n.a.createElement("div",{className:"color",style:{backgroundColor:"hsl(".concat(this.state.hue,", 100%, ").concat(this.state.luminosity,"%)"),color:"hsl(".concat((this.state.hue+179)%358,", 100%, ").concat(100-this.state.luminosity,"%)")}},"Color:"),n.a.createElement(S.b,{defaultValue:this.state.hue,min:0,max:357,onChange:function(a){return t.setState({hue:a})}}),n.a.createElement(S.b,{defaultValue:this.state.luminosity,min:0,max:100,onChange:function(a){return t.setState({luminosity:a})}})),n.a.createElement("button",{onClick:function(){return t.setState({cleanInterruptor:!t.state.cleanInterruptor})}},"Clean"),n.a.createElement("button",{onClick:function(){return t.apply()}},"apply")),n.a.createElement("div",{className:"spirograph-container"},n.a.createElement(y,Object.assign({cleanInterruptor:this.state.cleanInterruptor},this.state.SpriographProps))))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},75:function(t,a,e){t.exports=e(139)},81:function(t,a,e){},82:function(t,a,e){}},[[75,1,2]]]);
//# sourceMappingURL=main.8519f8d5.chunk.js.map